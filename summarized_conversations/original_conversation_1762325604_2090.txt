{'role': 'assistant', 'content': '\n```\n        <function_calls>\n        <create-file file_path="HEX-Control-Nexus/web_dashboard/app.js">\n        // HEX Control Nexus Dashboard Application\n        console.log(\'HEX Control Nexus Dashboard Loading...\');\n        \n        // DOM Elements\n        const logsContainer = document.getElementById(\'logs-container\');\n        const jobsTableBody = document.getElementById(\'jobs-table-body\');\n        const activeJobsCount = document.getElementById(\'active-jobs-count\');\n        const completedCount = document.getElementById(\'completed-count\');\n        const startAllBtn = document.getElementById(\'start-all-btn\');\n        const stopAllBtn = document.getElementById(\'stop-all-btn\');\n        const refreshBtn = document.getElementById(\'refresh-btn\');\n        \n        // State\n        let jobs = [];\n        let ws = null;\n        \n        // Add log entry to the logs container\n        function addLogEntry(level, message) {\n            const timestamp = new Date().toISOString().substr(11, 8);\n            const logEntry = document.createElement(\'div\');\n            logEntry.className = \'log-entry\';\n            logEntry.innerHTML = `\n                <span class="timestamp">[${timestamp}]</span>\n                <span class="level ${level}">${level.toUpperCase()}</span>\n                <span>${message}</span>\n            `;\n            logsContainer.appendChild(logEntry);\n            logsContainer.scrollTop = logsContainer.scrollHeight;\n        }\n        \n        // Update jobs table\n        function updateJobsTable() {\n            if (jobs.length === 0) {\n                jobsTableBody.innerHTML = \'<tr><td colspan="6" style="text-align: center;">No active jobs</td></tr>\';\n                return;\n            }\n        \n            jobsTableBody.innerHTML = jobs.map(job => `\n                <tr>\n                    <td>${job.id}</td>\n                    <td>${job.task}</td>\n                    <td>${job.target}</td>\n                    <td><span class="status-badge ${job.status}">${job.status}</span></td>\n                    <td>${new Date(job.createdAt).toLocaleTimeString()}</td>\n                    <td>\n                        <button class="btn btn-sm btn-secondary" onclick="viewJob(\'${job.id}\')">View</button>\n                        ${job.status === \'processing\' ? \n                            `<button class="btn btn-sm btn-danger" onclick="cancelJob(\'${job.id}\')">Cancel</button>` :\n                            \'\'}\n                    </td>\n                </tr>\n            `).join(\'\');\n        \n            // Update counters\n            const activeJobs = jobs.filter(j => j.status === \'processing\' || j.status === \'queued\').length;\n            const completedJobs = jobs.filter(j => j.status === \'completed\').length;\n            \n            activeJobsCount.textContent = activeJobs;\n            completedCount.textContent = completedJobs;\n        }\n        \n        // Connect to WebSocket\n        function connectWebSocket() {\n            const wsUrl = `ws://${window.location.host}`;\n            ws = new WebSocket(wsUrl);\n            \n            ws.onopen = function() {\n                addLogEntry(\'info\', \'Connected to HEX Control Nexus WebSocket\');\n            };\n            \n            ws.onmessage = function(event) {\n                try {\n                    const data = JSON.parse(event.data);\n                    handleWebSocketMessage(data);\n                } catch (error) {\n                    addLogEntry(\'error\', `Failed to parse WebSocket message: ${error.message}`);\n                }\n            };\n            \n            ws.onclose = function() {\n                addLogEntry(\'warning\', \'WebSocket connection closed. Reconnecting in 5 seconds...\');\n                setTimeout(connectWebSocket, 5000);\n            };\n            \n            ws.onerror = function(error) {\n                addLogEntry(\'error\', `WebSocket error: ${error.message}`);\n            };\n        }\n        \n        // Handle WebSocket messages\n        function handleWebSocketMessage(data) {\n            switch (data.type) {\n                case \'connection\':\n                    addLogEntry(\'info\', data.message);\n                    break;\n                    \n                case \'job_created\':\n                    jobs.push(data.job);\n                    updateJobsTable();\n                    addLogEntry(\'info\', `Job ${data.job.id} created for task: ${data.job.task}`);\n                    break;\n                    \n                case \'job_status\':\n                    const jobIndex = jobs.findIndex(j => j.id === data.job.id);\n                    if (jobIndex !== -1) {\n                        jobs[jobIndex] = data.job;\n                        updateJobsTable();\n                        addLogEntry(\'info\', `Job ${data.job.id} status updated to: ${data.job.status}`);\n                    }\n                    break;\n                    \n                case \'job_completed\':\n                    const completedJobIndex = jobs.findIndex(j => j.id === data.job.id);\n                    if (completedJobIndex !== -1) {\n                        jobs[completedJobIndex] = data.job;\n                        updateJobsTable();\n                        addLogEntry(\'info\', `Job ${data.job.id} completed successfully`);\n                    }\n                    break;\n                    \n                case \'job_failed\':\n                    const failedJobIndex = jobs.findIndex(j => j.id === data.job.id);\n                    if (failedJobIndex !== -1) {\n                        jobs[failedJobIndex] = data.job;\n                        updateJobsTable();\n                        addLogEntry(\'error\', `Job ${data.job.id} failed: ${data.error}`);\n                    }\n                    break;\n                    \n                case \'log\':\n                    addLogEntry(data.level, data.message);\n                    break;\n                    \n                default:\n                    addLogEntry(\'warn\', `Unknown message type: ${data.type}`);\n            }\n        }\n        \n        // View job details\n        function viewJob(jobId) {\n            const job = jobs.find(j => j.id === jobId);\n            if (job) {\n                alert(`Job Details:\\nID: ${job.id}\\nTask: ${job.task}\\nTarget: ${job.target}\\nStatus: ${job.status}\\nCreated: ${new Date(job.createdAt).toLocaleString()}`);\n            }\n        }\n        \n        // Cancel job\n        function cancelJob(jobId) {\n            addLogEntry(\'info\', `Cancelling job ${jobId}`);\n            // In a real implementation, this would send a request to cancel the job\n            // For now, we\'ll just update the status\n            const jobIndex = jobs.findIndex(j => j.id === jobId);\n            if (jobIndex !== -1) {\n                jobs[jobIndex].status = \'cancelled\';\n                updateJobsTable();\n                addLogEntry(\'info\', `Job ${jobId} cancelled`);\n            }\n        }\n        \n        // Event Listeners\n        startAllBtn.addEventListener(\'click\', () => {\n            addLogEntry(\'info\', \'Starting all tasks...\');\n            // In a real implementation, this would send a request to start all tasks\n            addLogEntry(\'info\', \'All tasks started\');\n        });\n        \n        stopAllBtn.addEventListener(\'click\', () => {\n            addLogEntry(\'info\', \'Stopping all tasks...\');\n            // In a real implementation, this would send a request to stop all tasks\n            addLogEntry(\'info\', \'All tasks stopped\');\n        });\n        \n        refreshBtn.addEventListener(\'click\', () => {\n            addLogEntry(\'info\', \'Refreshing data...\');\n            // In a real implementation, this would fetch updated data from the server\n            addLogEntry(\'info\', \'Data refreshed\');\n        });\n        \n        // Initialize\n        document.addEventListener(\'DOMContentLoaded\', () => {\n            connectWebSocket();\n            updateJobsTable();\n        });\n        </create-file>\n        </function_calls>\n        ```'}
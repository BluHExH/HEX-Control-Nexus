{'role': 'user', 'content': '/deep-coder TITLE: Build "HEX-Control-Nexus" — Full Multi-Language Automation Hub (Zip-ready)\r\n\r\nSUMMARY (print at top of README): \r\n"This project (HEX-Control-Nexus) is an advanced multi-language automation hub. Use responsibly — always check robots.txt and site terms. Do not collect personal/sensitive data."\r\n\r\nDELIVERABLE:\r\nProduce a complete runnable git repository named `HEX-Control-Nexus/` and export it as `HEX-Control-Nexus.zip`. The repo must include starter code, configs, docs, tests, Docker, CI, and a Termux-friendly runner. Do NOT commit any secrets (use .env for tokens). Provide exact one-line quickstart commands in README for Docker and local run.\r\n\r\nPROJECT STRUCTURE (must create):\r\nHEX-Control-Nexus/\r\n├── backend/\r\n│   ├── python_core/\r\n│   │   ├── automation.py\r\n│   │   ├── scraper.py\r\n│   │   ├── api_client.py\r\n│   │   └── notifier.py\r\n│   ├── java_service/\r\n│   │   ├── src/main/java/com/hex/service/  # sample controller, service, model\r\n│   │   ├── pom.xml\r\n│   │   └── application.properties\r\n│   └── node_webhooks/\r\n│       ├── index.js\r\n│       ├── package.json\r\n│       └── puppeteer_tasks.js\r\n├── web_dashboard/\r\n│   ├── index.html\r\n│   ├── app.js\r\n│   ├── styles.css\r\n│   └── dashboard_api.js\r\n├── config/\r\n│   ├── config.json\r\n│   ├── endpoints.yaml\r\n│   └── schedule.yaml\r\n├── database/\r\n│   └── hex_data.db  # starter empty file or migration script\r\n├── scripts/\r\n│   ├── run.sh        # Termux-friendly runner\r\n│   ├── setup.sh\r\n│   └── deploy_docker.sh\r\n├── Dockerfile\r\n├── docker-compose.yml  # includes python, java, node, sqlite volumes; optional selenium service\r\n├── tests/\r\n│   ├── test_web_scraper.py\r\n│   ├── test_api_automation.py\r\n│   └── test_node_webhooks.js\r\n├── .env.example\r\n├── requirements.txt\r\n├── package.json (for node)\r\n├── pom.xml (for java root if needed)\r\n├── README.md\r\n├── LEGAL.md\r\n├── LICENSE\r\n└── .github/workflows/ci.yml\r\n\r\nLANGUAGE → COMPONENT MAPPING (explicit; required):\r\n- Python (backend/python_core): core automation, scrapers (requests/BeautifulSoup, aiohttp), notifier (telegram/email), SQLite access (SQLModel/SQLAlchemy or sqlite3), job persistence, graceful shutdown.\r\n- Java (backend/java_service): Spring Boot microservice exposing REST endpoints, scheduling (Quartz optional), token/auth management, heavy API orchestrator.\r\n- Node.js (backend/node_webhooks): webhook listener, Puppeteer browser tasks (headless + remote webdriver fallback), Discord/Slack webhook handlers, background job queue.\r\n- HTML/CSS/JS (web_dashboard): frontend dashboard (vanilla or light framework) with WebSocket for real-time logs, controls to start/stop tasks, export data.\r\n- JSON/YAML (config): all target definitions, selectors, endpoints, schedules, concurrency settings.\r\n- Bash (scripts): setup.sh, run.sh (Termux), deploy_docker.sh; cron examples.\r\n- SQLite (database): local storage for logs, job state, scraped data.\r\n- Docker (Dockerfile/docker-compose): containerize each service. Compose includes services: python-core, java-service, node-service, db, (optional selenium).\r\n\r\nMUST-HAVE FEATURES (implement these; include sample code or stubs):\r\n1. Web Scraping (Python):\r\n   - Static: requests + BeautifulSoup with CSS selector config.\r\n   - JS pages: option to call Node/Puppeteer tasks.\r\n   - Pagination support (next selector OR url template).\r\n   - Rate-limiting, random jitter, user-agent rotation.\r\n   - robots.txt check (refuse disallowed paths unless run with --force and explicit warning).\r\n   - Save to CSV/JSONL/SQLite (configurable).\r\n\r\n2. API Automation:\r\n   - Python async client (httpx/aiohttp) and Java synchronous/async endpoints.\r\n   - Retries with exponential backoff and circuit-breaker for failing endpoints.\r\n   - Header/auth management (.env for secrets).\r\n   - ETL example: fetch public API → normalize JSON → store in SQLite.\r\n\r\n3. Browser Automation / UI Tasks:\r\n   - Node.js Puppeteer tasks (login, navigate, extract).\r\n   - Remote WebDriver fallback instructions for Termux.\r\n   - Screenshot-on-error saved to logs/screenshots/.\r\n\r\n4. Webhooks & Triggers (Node):\r\n   - /webhook endpoint to trigger tasks (validate signature optional).\r\n   - Trigger -> queue job -> response with job id.\r\n\r\n5. Scheduler & Runner:\r\n   - CLI `cli.py` in Python with commands: `run --target NAME`, `run --config config.json`, `--once`, `--daemon`, `--dry-run`, `--export format`.\r\n   - scripts/run.sh: Termux-friendly loop and sample nohup usage.\r\n   - cron examples and systemd unit sample in README.\r\n\r\n6. Notifications:\r\n   - Telegram notifier (python-telegram-bot) stub with .env example.\r\n   - Email via SMTP optional.\r\n   - Slack/Discord webhook support (Node or Python).\r\n\r\n7. Logging & Monitoring:\r\n   - Structured JSON logs to logs/app.log with rotation.\r\n   - Simple FastAPI (or Flask) /metrics endpoint returning JSON: { scraped_count, errors, last_run } and /health.\r\n   - WebSocket endpoint for real-time streaming to dashboard.\r\n\r\n8. Persistence & Resilience:\r\n   - SQLite job table for resume on restart.\r\n   - Graceful shutdown on SIGINT/SIGTERM.\r\n   - Job retry policy and max attempts per job.\r\n   - Circuit breaker for consistently failing domains.\r\n\r\n9. Security & Legal:\r\n   - .env usage; .env.example committed.\r\n   - LEGAL.md with robots.txt, TOS and acceptable use policy.\r\n   - README must warn about ethical scraping.\r\n\r\n10. Testing & CI:\r\n    - Unit tests for core Python functions (parsers) and Node webhook.\r\n    - GitHub Actions CI that runs tests and linters (black/isort/mypy for Python; eslint for Node).\r\n    - Provide `make test` in Makefile.\r\n\r\n11. Docker & Deployment:\r\n    - Dockerfile(s) or multi-stage; non-root user.\r\n    - docker-compose with named volumes for db and logs.\r\n    - deploy_docker.sh that builds and runs compose.\r\n    - README one-liner to start with docker-compose up.\r\n\r\n12. Banner Requirements (Termux & Web README):\r\n    - Create a Termux ASCII banner file `scripts/banner.txt` that prints HEX with colored escape codes:\r\n      - H: green, E: red, X: green (use ANSI color codes).\r\n      - Include subtitle: "HEX Control Nexus — Multi-Language Automation Hub".\r\n    - In web_dashboard add a graphic area where "HEX" is styled: H (green), E (red), X (green). Provide CSS gradient and small SVG or inline style.\r\n    - README must include instructions to print banner in Termux: `cat scripts/banner.txt && echo -e "\\e[92mH\\e[91mE\\e[92mX\\e[0m"`.\r\n\r\n13. Zip Export:\r\n    - After generating repo, produce `HEX-Control-Nexus.zip` at repository root and include checksum (sha256).\r\n\r\nDOCUMENTATION (README.md must include):\r\n- Project summary, quickstart (Docker one-liner and local dev), Termux notes, config keys explanation, CLI usage examples, safety/legal notice, how to add new targets, how to run tests, how to enable Telegram.\r\n- One-line quickstart examples:\r\n  - Docker: `docker-compose up --build`\r\n  - Local dev: `./scripts/setup.sh && python3 backend/python_core/automation.py --once --target demo`\r\n  - Termux run: `bash scripts/run.sh`\r\n\r\nCODE QUALITY:\r\n- Add type hints to Python functions; basic mypy config.\r\n- Basic lint config: .flake8, .pre-commit config running black/isort/flake8.\r\n- Provide minimal but runnable sample implementations (not just empty files) for scraper, API client, webhook listener, and a tiny Java Spring Boot controller that exposes `/api/trigger`.\r\n\r\nSAMPLE CONFIG (`config/config.json`) — include with repo:\r\n{\r\n  "targets": [\r\n    {\r\n      "name": "quotes_static",\r\n      "mode": "static",\r\n      "base_url": "http://quotes.toscrape.com",\r\n      "start_paths": ["/"],\r\n      "selectors": {\r\n        "item": ".quote",\r\n        "fields": {"text": ".text", "author": ".author", "tags": ".tags .tag"}\r\n      },\r\n      "pagination": {"next_selector": ".next a", "next_url_template": null},\r\n      "storage": {"type": "sqlite", "path": "database/hex_data.db", "unique_key": "text"}\r\n    }\r\n  ],\r\n  "concurrency": {"global": 5, "per_domain": 2},\r\n  "rate_limit": {"delay_seconds": 1.5, "jitter": true},\r\n  "user_agents": ["Mozilla/5.0 (compatible; HEX/1.0)"],\r\n  "telegram": {"enabled": false, "bot_token": "", "chat_id": ""}\r\n}\r\n\r\nFINAL INSTRUCTIONS FOR GENERATOR:\r\n- Ensure all files are created with runnable starter code and comments explaining where to fill secrets.\r\n- Add LEGAL.md and README.md with the ethics warning visible at top.\r\n- Create scripts/banner.txt (ASCII + ANSI colors) and web_dashboard HEX logo (CSS/SVG).\r\n- Run unit tests locally (or include instructions) and include GitHub Actions CI file.\r\n- Export the whole repo root as `HEX-Control-Nexus.zip` and provide sha256 checksum.\r\n\r\nOUTPUT (what I expect you to return now):\r\n1) A downloadable zip file named `HEX-Control-Nexus.zip` containing the repo structure and starter code as described.  \r\n2) If full zip can\'t be attached, provide a downloadable link (or clear instructions to generate locally) — but priority: include zip.\r\n\r\nADDITIONAL NOTES:\r\n- If a part cannot be implemented fully (e.g., full Java build) include stub + README steps to build locally.\r\n- Make README bilingual: short Bengali intro lines (casual) and English technical instructions.\r\n\r\nETHICS REMINDER (must be printed in README top): \r\n"Use responsibly. Always check robots.txt and website terms. Do not collect or store personal or sensitive data without permission."\r\n\r\n-- END OF PROMPT'}